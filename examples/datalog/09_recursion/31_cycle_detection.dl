% Test: Cycle detection pattern
% Expected: Detect cycles in graph
% Category: 09_recursion
% Priority: P2 - Recursion patterns

.kg create test_cycle
.kg use test_cycle

+edge[(1, 2), (2, 3), (3, 1), (4, 5)].

% Reachability
+reach(X, Y) :- edge(X, Y).
+reach(X, Z) :- reach(X, Y), edge(Y, Z).

% Nodes in a cycle (can reach themselves)
in_cycle(X) :- reach(X, X).

?- in_cycle(X).

.kg use default
.kg drop test_cycle
