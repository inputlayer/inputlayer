% Test: Cycle detection in graphs

.kg create test_cycle_det_n09t21
.kg use test_cycle_det_n09t21

% Graph with cycle: 1->2->3->1
+edge[(1, 2), (2, 3), (3, 1), (4, 5)].

% Transitive reachability
+reaches(X, Y) :- edge(X, Y).
+reaches(X, Z) :- edge(X, Y), reaches(Y, Z).

% Node is in a cycle if it reaches itself
in_cycle(X) :- reaches(X, X).

?- in_cycle(X).

% Nodes not in cycle
not_in_cycle(X) :- edge(X, _), !reaches(X, X).

?- not_in_cycle(X).

.kg use default
.kg drop test_cycle_det_n09t21
