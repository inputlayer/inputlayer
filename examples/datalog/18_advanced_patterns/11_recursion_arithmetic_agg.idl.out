Connecting to server at http://127.0.0.1:8080...
Connected!

Server status: healthy
Authenticated as: admin
Current knowledge graph: default

> .kg create test_rec_arith_agg_n18t11
Knowledge graph 'test_rec_arith_agg_n18t11' created.
Switched to knowledge graph: test_rec_arith_agg_n18t11
> .kg use test_rec_arith_agg_n18t11
Switched to knowledge graph: test_rec_arith_agg_n18t11
> +edge[(1, 2, 10), (2, 3, 20), (3, 4, 15), (1, 3, 50), (2, 4, 25)]
Inserted 5 fact(s) into 'edge'.
> +path_weight(X, Y, W) <- edge(X, Y, W)
Rule 'path_weight' registered.
> +path_weight(X, Z, W1+W2) <- path_weight(X, Y, W1), edge(Y, Z, W2)
Rule 'path_weight' registered.
> ?path_weight(X, Y, W)
┌───┬───┬────┐
│ X │ Y │ W  │
├───┼───┼────┤
│ 1 │ 2 │ 10 │
│ 1 │ 3 │ 30 │
│ 1 │ 3 │ 50 │
│ 1 │ 4 │ 35 │
│ 1 │ 4 │ 45 │
│ 1 │ 4 │ 65 │
│ 2 │ 3 │ 20 │
│ 2 │ 4 │ 25 │
│ 2 │ 4 │ 35 │
│ 3 │ 4 │ 15 │
└───┴───┴────┘
10 rows
> +min_path(X, Y, min<W>) <- path_weight(X, Y, W)
Rule 'min_path' registered.
> ?min_path(X, Y, W)
┌───┬───┬────┐
│ X │ Y │ W  │
├───┼───┼────┤
│ 1 │ 2 │ 10 │
│ 1 │ 3 │ 30 │
│ 1 │ 4 │ 35 │
│ 2 │ 3 │ 20 │
│ 2 │ 4 │ 25 │
│ 3 │ 4 │ 15 │
└───┴───┴────┘
6 rows
> +path_count(X, Y, count<W>) <- path_weight(X, Y, W)
Rule 'path_count' registered.
> ?path_count(X, Y, C)
┌───┬───┬───┐
│ X │ Y │ C │
├───┼───┼───┤
│ 1 │ 2 │ 1 │
│ 1 │ 3 │ 2 │
│ 1 │ 4 │ 3 │
│ 2 │ 3 │ 1 │
│ 2 │ 4 │ 2 │
│ 3 │ 4 │ 1 │
└───┴───┴───┘
6 rows
> +total_from_1(sum<W>) <- path_weight(1, _, W)
Rule 'total_from_1' registered.
> ?total_from_1(T)
┌─────┐
│ T   │
├─────┤
│ 235 │
└─────┘
1 rows
> +avg_from_1(avg<W>) <- path_weight(1, _, W)
Rule 'avg_from_1' registered.
> ?avg_from_1(A)
┌────────────────────┐
│ A                  │
├────────────────────┤
│ 39.166666666666664 │
└────────────────────┘
1 rows
> .kg use default
Switched to knowledge graph: default
> .kg drop test_rec_arith_agg_n18t11
Knowledge graph 'test_rec_arith_agg_n18t11' dropped.
