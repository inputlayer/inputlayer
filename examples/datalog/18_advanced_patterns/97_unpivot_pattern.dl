% Test: Unpivot pattern
% Expected: Convert columns to rows
% Category: 18_advanced_patterns
% Priority: P2 - Advanced patterns

.kg create test_unpivot
.kg use test_unpivot

+wide_data[(1, 10, 20, 30)].

% Unpivot to long format
long_data(Id, "col1", V) :- wide_data(Id, V, _, _).
long_data(Id, "col2", V) :- wide_data(Id, _, V, _).
long_data(Id, "col3", V) :- wide_data(Id, _, _, V).

?- long_data(Id, Col, Val).

.kg use default
.kg drop test_unpivot
