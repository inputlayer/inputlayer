% Test: Simple pivot pattern

.kg create test_pivot_simple_n18t96
.kg use test_pivot_simple_n18t96

+metrics[(1, "sales", 100), (1, "cost", 60), (2, "sales", 200), (2, "cost", 120)].

% Extract each metric type
sales_by_id(Id, Val) :- metrics(Id, "sales", Val).
cost_by_id(Id, Val) :- metrics(Id, "cost", Val).

?- sales_by_id(Id, Val).
?- cost_by_id(Id, Val).

.kg use default
.kg drop test_pivot_simple_n18t96
