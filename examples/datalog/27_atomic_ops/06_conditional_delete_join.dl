% Test: Conditional delete with join
% Expected: Delete facts based on multi-relation condition
% Category: 27_atomic_ops
% Priority: P2 - Atomic operations

.kg create test_cond_del_join
.kg use test_cond_del_join

+orders[(1, "Alice", 100), (2, "Bob", 200), (3, "Alice", 300)].
+banned[("Alice",)].

?- orders(Id, Name, Amount).

% Delete orders from banned customers
-orders(Id, Name, Amount) :- banned(Name).

?- orders(Id, Name, Amount).

.kg use default
.kg drop test_cond_del_join
