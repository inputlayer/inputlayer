% Test: Conditional update pattern
% Expected: Update only matching rows
% Category: 27_atomic_ops
% Priority: P2 - Atomic operations

.kg create test_cond_update
.kg use test_cond_update

+inventory[(1, "Widget", 10), (2, "Gadget", 5), (3, "Gizmo", 20)].

?- inventory(Id, Name, Qty).

% Delete low stock items
-inventory(Id, Name, Qty) :- inventory(Id, Name, Qty), Qty < 10.

?- inventory(Id, Name, Qty).

.kg use default
.kg drop test_cond_update
