% Test: Conditional delete all facts
% Expected: Delete all matching facts
% Category: 27_atomic_ops
% Priority: P1 - Atomic operations

.kg create test_cond_del_all
.kg use test_cond_del_all

% Initial data
+items[(1, "a"), (2, "b"), (3, "c"), (4, "d")].

?- items(Id, Val).

% Delete all items (self-referential condition)
-items(X, Y) :- items(X, Y).

?- items(Id, Val).

.kg use default
.kg drop test_cond_del_all
