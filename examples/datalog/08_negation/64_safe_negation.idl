// Test: Safe negation patterns

.kg create test_safe_neg_n08t64
.kg use test_safe_neg_n08t64

+all_ids[(1,), (2,), (3,), (4,), (5,)]
+processed[(1,), (3,)]

// Safe: X is bound by all_ids before negation
+unprocessed(X) <- all_ids(X), !processed(X)

?unprocessed(X)

.kg use default
.kg drop test_safe_neg_n08t64
