// Test: Negation combined with aggregation

.kg create test_neg_agg_29_n08t82
.kg use test_neg_agg_29_n08t82

// Products with sales
+sales[(1, 100), (2, 200), (3, 150)]

// All products
+products[(1,), (2,), (3,), (4,), (5,)]

// Products with sales (via aggregation)
+has_sales(P) <- sales(P, _)

// Products without sales
+no_sales(P) <- products(P), !has_sales(P)
?no_sales(P)

.kg use default
.kg drop test_neg_agg_29_n08t82
