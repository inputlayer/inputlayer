// Test: Division by Zero Handling
// Verifies: How the system handles division by zero

.kg create test_div_zero_n12t08
.kg use test_div_zero_n12t08

// Simple data
+numbers[(10), (20), (0), (5)]

// Division that would produce divide by zero
// This tests what happens when we divide by a zero value
+pairs[(10, 2), (20, 4), (15, 0), (8, 2)]

// Safe division (no zero divisors) - arithmetic in head
safe_div(X, Y, X/Y) <- pairs(X, Y), Y != 0
?safe_div(A, B, C)

// Attempt division including zero - should produce error
all_div(X, Y, X/Y) <- pairs(X, Y)
?all_div(A, B, C)

// Note: Modulo tests removed because % is the comment character in Datalog

// Cleanup
.kg use default
.kg drop test_div_zero_n12t08
