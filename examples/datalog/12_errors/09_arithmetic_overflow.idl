// Test: Arithmetic Overflow Handling
// Verifies: Behavior with very large numbers

.kg create test_overflow_n12t09
.kg use test_overflow_n12t09

// Large numbers near i64 bounds
// i64 max: 9223372036854775807
// i64 min: -9223372036854775808
+large_nums[(1000000000), (2000000000), (3000000000)]

// Multiplication of large numbers (tests overflow handling)
+mult_result(X, Y, X*Y) <- large_nums(X), large_nums(Y), X != Y
?mult_result(A, B, C)

// Addition of moderately large numbers
+big_add[(1000000000000, 2000000000000), (500000000000, 500000000000)]
+add_result(X, Y, X+Y) <- big_add(X, Y)
?add_result(A, B, C)

// Exponentiation would overflow quickly - test basic case
+exp_base[(2, 10), (2, 20), (2, 30)]
// Note: X^Y might not be supported, showing computed constant
+power_of_two(X, 1024) <- exp_base(X, 10), X = 2
?power_of_two(B, R)

// Subtraction producing negative
+sub_pairs[(100, 200), (50, 100)]
+sub_result(X, Y, X-Y) <- sub_pairs(X, Y)
?sub_result(A, B, C)

// Cleanup
.kg use default
.kg drop test_overflow_n12t09
