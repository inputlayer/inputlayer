
Executing script: /Users/samuel.picek/InputLayer/FlowLog/course/final-project/examples/datalog/13_performance/08_many_joins.dl

> .db create test_many_joins
Database 'test_many_joins' created.
Switched to database: test_many_joins
> .db use test_many_joins
Switched to database: test_many_joins
> +r1[(1, 10), (2, 20), (3, 30)].
Inserted 3 facts into 'r1'.
> +r2[(10, 100), (20, 200), (30, 300)].
Inserted 3 facts into 'r2'.
> +r3[(100, 1000), (200, 2000), (300, 3000)].
Inserted 3 facts into 'r3'.
> +r4[(1000, 10000), (2000, 20000), (3000, 30000)].
Inserted 3 facts into 'r4'.
> +r5[(10000, 100000), (20000, 200000), (30000, 300000)].
Inserted 3 facts into 'r5'.
> view chain5(A: int, F: int) :- r1(A, B), r2(B, C), r3(C, D), r4(D, E), r5(E, F).
View 'chain5' registered.
> ?- chain5(A, F).
3 rows:
  (1, 100000)
  (2, 200000)
  (3, 300000)
> +center[(1, 2, 3)].
Inserted 1 fact into 'center'.
> +left[(1, 100)].
Inserted 1 fact into 'left'.
> +right[(3, 300)].
Inserted 1 fact into 'right'.
> +top[(2, 200)].
Inserted 1 fact into 'top'.
> view star_join(L: int, T: int, R: int) :- center(A, B, C), left(A, L), top(B, T), right(C, R).
View 'star_join' registered.
> ?- star_join(L, T, R).
1 rows:
  (100, 200, 300)
> +nodes[(1), (2), (3), (4), (5)].
Inserted 5 facts into 'nodes'.
> +links[(1, 2), (2, 3), (3, 4), (4, 5), (1, 3), (2, 4), (3, 5)].
Inserted 7 facts into 'links'.
> view path3(A: int, B: int, C: int) :- links(A, B), links(B, C), A != C.
View 'path3' registered.
> ?- path3(A, B, C).
8 rows:
  (2, 3, 1)
  (2, 4, 1)
  (3, 4, 1)
  (3, 4, 2)
  (3, 5, 1)
  (3, 5, 2)
  (4, 5, 2)
  (4, 5, 3)
> view path3_count(count<A>: int) :- path3(A, _, _).
View 'path3_count' registered.
> ?- path3_count(C).
1 rows:
  (8)
> .db use default
Switched to database: default
> .db drop test_many_joins
Database 'test_many_joins' dropped.

