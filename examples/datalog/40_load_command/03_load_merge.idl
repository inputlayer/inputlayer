// Test: .load with --merge Mode
// Description: Tests loading a file with --merge flag to combine with existing data

.kg create test_load_merge_n40t03
.kg use test_load_merge_n40t03

// Insert some initial data
+existing_data[(1, "original"), (2, "also_original")]

// Also create a relation that will be added to by the loaded file
+loaded_relation[(0, "pre_existing")]
?loaded_relation(X, Y)

// Load with merge mode - should add to existing data
.load examples/datalog/40_load_command/_helper_data.dl --merge

// Verify all data is present (both original and loaded)
?loaded_relation(X, Y)

// Original data should still exist
?existing_data(X, Y)

// Loaded rule should work
?loaded_rule(X, Y)

// Cleanup
.kg use default
.kg drop test_load_merge_n40t03
