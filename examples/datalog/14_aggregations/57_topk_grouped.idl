// Test: top_k per group

.kg create test_topk_grp_n14t57
.kg use test_topk_grp_n14t57

+scores[("Math", "Alice", 95), ("Math", "Bob", 87), ("Math", "Carol", 92), ("Science", "Dave", 88), ("Science", "Eve", 91), ("Science", "Frank", 85)]

// Top 2 per subject by score descending
top2_by_subject(Subj, top_k<2, Name, Score:desc>) <- scores(Subj, Name, Score)

?top2_by_subject(Subj, Name, Score)

.kg use default
.kg drop test_topk_grp_n14t57
