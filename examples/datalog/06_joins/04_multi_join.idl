// Test: Multi-way Join (4 relations)
// Description: Tests joining across 4 relations in a chain

.kg create test_multi_n06t04
.kg use test_multi_n06t04

// Chain of edges: a -> b -> c -> d
+a[(1, 2), (10, 20)]
+b[(2, 3), (20, 30)]
+c[(3, 4), (30, 40)]
+d[(4, 5), (40, 50)]

// 4-way chain join: find paths through all relations
+chain(W, Z) <- a(W, X), b(X, Y), c(Y, Z)

// Query the chain - finds 3-hop paths
?chain(X, Y)

// Cleanup
.kg use default
.kg drop test_multi_n06t04
