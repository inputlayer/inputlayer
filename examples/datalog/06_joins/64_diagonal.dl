% Test: Diagonal join (same value in two columns)
% Expected: Self-matching condition
% Category: 06_joins
% Priority: P2 - Join patterns

.kg create test_diag
.kg use test_diag

+matrix[(1, 1, 10), (1, 2, 20), (2, 2, 30), (3, 3, 40), (2, 3, 50)].

% Diagonal elements where row = col
diagonal(Row, Val) :- matrix(Row, Row, Val).

?- diagonal(R, V).

.kg use default
.kg drop test_diag
